(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{43:function(e,t,a){},45:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var c=a(3),n=a.n(c),s=a(13),r=a.n(s),i=(a(43),a(21)),l=a(38),o=a(10),u=a.n(o),d=a(34),j=a(14),b=a(8),h=a(94),O=a(81),p=a(80),f=a(35),v=(a(45),a(76)),m=a(77),x=a(78),g=a(79),y=a(82),k=function(e,t,a){var n=Object(c.useState)([]),s=Object(b.a)(n,2),r=s[0],i=s[1],l=Object(c.useState)([]),o=Object(b.a)(l,2),u=o[0],d=o[1];return{UpdateInput:function(e){i(e.target.value)},getUrl:function(c){var n=Date.now(),s=new Date(n).toLocaleString(),l={url:r,date:s,favs:!1};if(c.preventDefault(),i(""),d(e(r)),""===e(r)){var o=JSON.parse(window.localStorage.getItem("urlsStore"));if(null===o){var u=[];u.push(l),window.localStorage.setItem("urlsStore",JSON.stringify(u))}else o.push(l),window.localStorage.setItem("urlsStore",JSON.stringify(o));a(t.concat(l))}},inpValue:r,errors:u}};function w(e){var t={},a=["https://www.youtube.com/watch?v=","https://vimeo.com/","https://youtu.be/"];return!a.some((function(t){return e.includes(t)}))&&(t="Sorry incorrect URL"),a.some((function(t){return e.includes(t)}))&&(t=""),t}var S=a(1),N=function(e){var t=e.urls,a=e.setUrls,c=k(w,t,a),n=c.UpdateInput,s=c.getUrl,r=c.inpValue,i=c.errors;return Object(S.jsx)("div",{children:Object(S.jsxs)(v.a,{onSubmit:s,children:[Object(S.jsxs)(m.a,{children:[Object(S.jsxs)(x.a,{style:{background:"rgb(141, 141, 141)"},children:[Object(S.jsx)("h1",{className:"display-4",children:"Vimeo and YouTube Scrapper"}),Object(S.jsx)("hr",{className:"my-2"}),Object(S.jsx)("p",{className:"lead",children:"Place where You can store your favorites videos"})]}),Object(S.jsx)(g.a,{value:r,onChange:n,bsSize:"lg",width:"100%",id:"urlInput",placeholder:"Enter YT or Vimeo url"}),i&&Object(S.jsx)("h2",{children:i})]}),Object(S.jsx)(p.a,{children:Object(S.jsx)(O.a,{sm:"12",md:{size:6,offset:3},children:Object(S.jsx)(y.a,{className:"m-2",size:"sm",block:!0,children:"Add"})})})]})})},D=function(e){var t=e.FavsToggle,a=e.FavsDisplay,c=e.SortbyDate,n=e.Sort,s=e.DeleteAll,r=e.ChangeDisplay,i=e.displayType;return Object(S.jsx)("div",{className:"NavButtons",children:Object(S.jsx)(p.a,{children:Object(S.jsxs)(O.a,{children:[a?Object(S.jsx)(y.a,{className:"ml-1",style:{background:"lightblue"},onClick:function(){return t()},children:"Favorites"}):Object(S.jsx)(y.a,{className:"m-1",onClick:function(){return t()},children:"Favorites"}),n?Object(S.jsx)(y.a,{className:"m-1",style:{background:"lightblue"},onClick:function(){return c()},children:"Newest"}):Object(S.jsx)(y.a,{className:"m-1",onClick:function(){return c()},children:"Oldest"}),Object(S.jsx)(y.a,{className:"m-1",onClick:function(){return s()},children:"Delete All"}),i?Object(S.jsx)(y.a,{className:"m-1",style:{background:"lightblue"},onClick:function(){return r()},children:"Display: List"}):Object(S.jsx)(y.a,{className:"m-1",onClick:function(){return r()},children:"Display: ThumbNails"})]})})})},I=function(e){var t=e.display,a=e.OnDelete,c=e.UpdateFavs,n=e.favsDisplay,s=e.displayType;console.log(t);var r=t.map((function(e){return Object(S.jsx)(E,{date:e.date,title:e.data?e.data.title:"",thumb:e.data?e.data.thumbnail:"https://via.placeholder.com/320x180?text=Incorrect ID",views:e.data?e.data.views:"",likes:e.data?e.data.likes:"",VideoId:e.data?"":e.ID,PlayBackId:e.ID,favs:e.favs,OnDelete:a,UpdateFavs:c,favsDisplay:n,url:e.url},e.date)})),i=t.map((function(e){return Object(S.jsx)(q,{data:e.data,date:e.date,title:e.data?e.data.title:"",thumb:e.data?e.data.thumbnail:"https://via.placeholder.com/320x180?text=Incorrect ID",views:e.data?e.data.views:"",likes:e.data?e.data.likes:"",VideoId:e.data?"":e.ID,favs:e.favs,OnDelete:a,UpdateFavs:c,favsDisplay:n,PlayBackId:e.ID,url:e.url},e.date)}));return Object(S.jsx)("div",{className:"VideoWrapper",children:Object(S.jsx)(O.a,{children:Object(S.jsx)(p.a,{className:"d-flex justify-content-center",children:s?i:r})})})},C=a(86),F=a(87),V=a(88),P=a(89),U=a(90),T=a(91),A=a(95),J=a(83),B=a(84),L=a(85),z=function(e){var t=e.buttonLabel,a=e.className,n=e.videoId,s=e.url,r=Object(c.useState)(!1),i=Object(b.a)(r,2),l=i[0],o=i[1],u=function(){return o(!l)},d="https://www.youtube.com/embed/".concat(n),j="https://player.vimeo.com/video/".concat(n),h="";return h=s.includes("youtu")?d:j,Object(S.jsxs)("div",{className:a,children:[Object(S.jsx)(y.a,{style:{minWidth:"6vw"},onClick:u,children:t}),Object(S.jsxs)(A.a,{isOpen:l,toggle:u,style:{minWidth:"80vw"},children:[Object(S.jsx)(J.a,{toggle:u}),Object(S.jsx)(B.a,{style:{minHeight:"80vh"},children:Object(S.jsx)("iframe",{frameBorder:"0",height:"550vh",width:"100%",title:"Video Player",src:h})}),Object(S.jsx)(L.a,{})]})]})},E=function(e){var t=e.title,a=e.thumb,c=e.views,n=e.favs,s=e.likes,r=e.OnDelete,i=e.date,l=e.VideoId,o=e.UpdateFavs,u=e.PlayBackId,d=e.url;return Object(S.jsx)("div",{className:"VideoCard",children:Object(S.jsxs)(C.a,{className:"d-flex bd-highlight",body:!0,inverse:!0,style:{backgroundColor:"#333",height:"100%"},children:[Object(S.jsx)(F.a,{className:"m-1 flex-grow-1 bd-highlight",top:!0,width:"100%",src:a,alt:"Card image cap"}),Object(S.jsxs)(V.a,{className:"m-1 bd-highlight",children:[t?Object(S.jsxs)(P.a,{tag:"h6",children:["TITLE: ",t]}):"",c?Object(S.jsxs)(U.a,{tag:"h6",className:"mb-2 text-muted",children:["Views: ",c]}):"",s?Object(S.jsxs)(T.a,{children:["Likes: ",s]}):"",l?Object(S.jsxs)(T.a,{children:["Sorry video id: ",Object(S.jsxs)("strong",{children:['"',l,'"']})," is incorrect"]}):"",i?Object(S.jsxs)(T.a,{children:["Added: ",i]}):""]}),Object(S.jsxs)(p.a,{form:!0,children:[Object(S.jsx)(O.a,{children:s?Object(S.jsx)(z,{buttonLabel:"Play",videoId:u,url:d}):""}),s?Object(S.jsx)(O.a,{children:n?Object(S.jsx)(y.a,{style:{background:"lightblue"},onClick:function(){return o(i)},children:"Favorites"}):Object(S.jsx)(y.a,{onClick:function(){return o(i)},children:"Favorites"})}):"",Object(S.jsx)(O.a,{children:s?Object(S.jsx)(y.a,{onClick:function(){return r(i)},children:"Delete"}):Object(S.jsx)(y.a,{style:{backgroundColor:"red"},onClick:function(){return r(i)},children:"Delete"})})]})]})})},W=a(92),Y=a(93),M=a(20),R=a(36),Z=a(37),q=function(e){var t=e.title,a=e.favs,c=e.UpdateFavs,n=e.date,s=e.likes,r=e.OnDelete,i=e.PlayBackId,l=e.url,o=e.data;e.Col;return Object(S.jsx)("div",{children:Object(S.jsx)(W.a,{children:Object(S.jsxs)(Y.a,{className:"d-flex bd-highlight",style:{background:"darkgrey",minWidth:"80vw"},children:[t?Object(S.jsx)(z,{buttonLabel:t,className:"flex-grow-1 bd-highlight",videoId:i,url:l}):Object(S.jsx)(y.a,{style:{width:"60vw"},className:"m-1 bd-highlight",children:"Incorect Video ID"}),o?Object(S.jsx)(p.a,{children:l.includes("youtu")?Object(S.jsx)(M.Icon,{icon:Z.a,"data-icon":"line-md:image-twotone"}):Object(S.jsx)(M.Icon,{icon:R.a})}):"",o?Object(S.jsx)("span",{children:a?Object(S.jsx)(y.a,{className:"p-2 m-1 bd-highlight",style:{background:"lightblue"},onClick:function(){return c(n)},children:"Favorites"}):Object(S.jsx)(y.a,{className:"p-2 m-1 bd-highlight",onClick:function(){return c(n)},children:"Favorites"})}):"",s?Object(S.jsx)(y.a,{className:"p-2 m-1 bd-highlight",onClick:function(){return r(n)},children:"Delete"}):Object(S.jsx)(y.a,{className:"p-2 m-1 bd-highlight",style:{backgroundColor:"red"},onClick:function(){return r(n)},children:"Delete"})]})})})},H=a(17),G=a.n(H),K=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,c,n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="AIzaSyC6crZwFj1dv0BJOd0JjoyZA0Amqtl8R7o",e.next=4,G.a.get("https://www.googleapis.com/youtube/v3/videos?part=snippet&id=".concat(t,"&key=").concat(a));case 4:return c=e.sent,e.next=7,G.a.get("https://www.googleapis.com/youtube/v3/videos?part=statistics&id=".concat(t,"&key=").concat(a));case 7:return n=e.sent,s={title:c.data.items[0].snippet.title,thumbnail:c.data.items[0].snippet.thumbnails.medium.url,likes:n.data.items[0].statistics.likeCount,views:n.data.items[0].statistics.viewCount},e.abrupt("return",s);case 12:if(e.prev=12,e.t0=e.catch(0),!e.t0){e.next=16;break}return e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"3a3bdb617776994351b4ee7f79a99557",e.next=4,G.a.get("https://api.vimeo.com/videos/".concat(t),{headers:{Authorization:"Bearer ".concat("3a3bdb617776994351b4ee7f79a99557")}});case 4:return a=e.sent,c={title:a.data.name,thumbnail:a.data.pictures.sizes[2].link,likes:a.data.metadata.connections.likes.total,views:""},e.abrupt("return",c);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),X=function(e){var t=e.videosPerPage,a=e.totalVideos,c=e.paginate,n=e.currentPage,s=[];console.log(n);for(var r=1;r<=Math.ceil(a/t);r++)s.push(r);return Object(S.jsx)(h.a,{children:s.map((function(e){return Object(S.jsx)("span",{children:n===e?Object(S.jsx)(y.a,{className:"m-2",style:{background:"lightblue"},onClick:function(){return c(e)},href:"!#",children:e},e):Object(S.jsx)(y.a,{className:"m-2",onClick:function(){return c(e)},href:"!#",children:e},e)})}))})},$=function(){var e=JSON.parse(localStorage.getItem("urlsStore")),t=Object(c.useState)(e||[]),a=Object(b.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)([]),o=Object(b.a)(r,2),v=o[0],m=o[1],x=Object(c.useState)([]),g=Object(b.a)(x,2),y=g[0],k=g[1],w=Object(c.useState)(!1),C=Object(b.a)(w,2),F=C[0],V=C[1],P=Object(c.useState)(!1),U=Object(b.a)(P,2),T=U[0],A=U[1],J=Object(c.useState)(!1),B=Object(b.a)(J,2),L=B[0],z=B[1],E=Object(c.useState)(1),W=Object(b.a)(E,2),Y=W[0],M=W[1],R=Object(c.useState)(6),Z=Object(b.a)(R,1)[0];Object(c.useEffect)((function(){q(n)}),[n]);var q=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,c,n,s,r,i,l,o,j,b,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],c=Object(d.a)(t),e.prev=2,c.s();case 4:if((n=c.n()).done){e.next=19;break}return s=n.value,r=s.url,i="",l="",o=s.favs,r.includes("youtu")&&r.length>30?(i=r.slice(r.search("=",0)+1,r.length),l=K(i)):r.includes("youtu")&&r.length<30?(i=r.slice(r.search(".be",0)+4,r.length),l=K(i)):r.includes("vimeo",0)&&(i=r.slice(r.search("com",0)+4,r.length),l=Q(i)),e.next=13,l;case 13:j=e.sent,b=s.date,h={data:j,url:r,date:b,ID:i,favs:o},a.push(h);case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),c.e(e.t0);case 24:return e.prev=24,c.f(),e.finish(24);case 27:m(a);case 28:case"end":return e.stop()}}),e,null,[[2,21,24,27]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){V(!F);var e=v.filter((function(e){return!0===e.favs}));k(v),m(F?y:e)},G=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(f.onConfirm)({title:Object(S.jsx)("h3",{children:"Are you sure?"}),description:Object(S.jsx)("p",{children:"This process cannot be undone."}),onSubmit:function(){localStorage.clear(),s([]),m([])},onCancel:function(){}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=Y*Z,_=$-Z,ee=v.slice(_,$);return Object(S.jsx)(h.a,{children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(O.a,{children:Object(S.jsx)(N,{urls:n,setUrls:s})}),Object(S.jsxs)(p.a,{children:[Object(S.jsx)(O.a,{children:Object(S.jsx)(D,{FavsToggle:H,FavsDisplay:F,SortbyDate:function(){A(!T),v.reverse()},Sort:T,DeleteAll:G,ChangeDisplay:function(){z(!L)},displayType:L})}),Object(S.jsx)(X,{videosPerPage:Z,totalVideos:v.length,paginate:function(e){return M(e)},currentPage:Y})]}),Object(S.jsx)(I,{display:ee,displayType:L,OnDelete:function(e){var t=n.filter((function(t){return t.date!==e}));s(t),localStorage.clear(),window.localStorage.setItem("urlsStore",JSON.stringify(t))},UpdateFavs:function(e){var t=n.findIndex((function(t){return t.date===e})),a=Object(l.a)(n);a[t]=Object(i.a)(Object(i.a)({},a[t]),{},{favs:!a[t].favs}),s(a),localStorage.clear(),window.localStorage.setItem("urlsStore",JSON.stringify(a))},favsDisplay:H})]})})};a(74);r.a.render(Object(S.jsx)(n.a.StrictMode,{children:Object(S.jsx)($,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.c2f383de.chunk.js.map