(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{72:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),c=a(13),r=a.n(c),i=a(23),l=a(38),o=a(10),d=a.n(o),u=a(19),h=a(14),j=a(8),b=a(82),p=a(36),O=a(75),f=a(76),m=a(77),v=a(78),g=a(79),x=a(80),w=a(81),y=function(e,t,a){var s=Object(n.useState)([]),c=Object(j.a)(s,2),r=c[0],i=c[1],l=Object(n.useState)([]),o=Object(j.a)(l,2),d=o[0],u=o[1];return{UpdateInput:function(e){i(e.target.value)},getUrl:function(n){n.preventDefault();var s=Date.now(),c=new Date(s).toLocaleString(),l={url:r,date:c,favs:!1};if(i(""),u(e(r)),""===e(r)){var o=JSON.parse(window.localStorage.getItem("urlsStore"));if(null===o){var d=[];d.push(l),window.localStorage.setItem("urlsStore",JSON.stringify(d))}else o.push(l),window.localStorage.setItem("urlsStore",JSON.stringify(o));a(t.concat(l))}},inpValue:r,errors:d,setErrors:u}};function k(e){return["https://www.youtube.com/watch?v=","https://vimeo.com/","https://youtu.be/"].some((function(t){return e.includes(t)}))||e.length>6&&e.length<12?"":"Sorry URL or ID is Incorrect"}var S=a(1),I=function(e){var t=e.urls,a=e.setUrls,n=y(k,t,a),s=n.UpdateInput,c=n.getUrl,r=n.inpValue,i=n.errors;return Object(S.jsx)("div",{children:Object(S.jsxs)(O.a,{onSubmit:c,children:[Object(S.jsxs)(f.a,{children:[Object(S.jsxs)(m.a,{className:"shadow",style:{background:"rgb(141, 141, 141)"},children:[Object(S.jsx)("h1",{className:"display-4",children:"Vimeo and YouTube Scrapper"}),Object(S.jsx)("hr",{className:"my-2"}),Object(S.jsx)("p",{className:"lead",children:"Place where You can store your favorites videos"})]}),Object(S.jsx)(v.a,{className:"shadow",value:r,onChange:s,bsSize:"lg",width:"100%",id:"urlInput",placeholder:"Enter VIMEO or YOUTUBE url or Video ID"}),i&&Object(S.jsx)("h2",{children:i})]}),Object(S.jsx)(g.a,{children:Object(S.jsx)(x.a,{sm:"12",md:{size:6,offset:3},children:Object(S.jsx)(w.a,{className:"shadow m-2",size:"sm",block:!0,children:"Add"})})})]})})},D=a(93),N=a(83),C=a(84),F=function(e){var t=e.buttonLabel,a=e.urls,s=e.setUrls,c=Object(n.useState)(!1),r=Object(j.a)(c,2),i=r[0],l=r[1],o=function(){return l(!i)},d=function(e){var t,n=JSON.parse(e.target.result),c=[],r=Object(u.a)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value,l=Date.now(),d={url:i,date:new Date(l).toLocaleString(),favs:!1};c.push(d)}}catch(h){r.e(h)}finally{r.f()}s(a.concat(c)),o()};return Object(S.jsxs)(b.a,{id:"uplContainer",children:[Object(S.jsx)(w.a,{className:"shadow",id:"uplButton",onClick:o,children:t}),Object(S.jsxs)(D.a,{isOpen:i,toggle:o,style:{width:"30vw",height:"10vh"},children:[Object(S.jsx)(N.a,{toggle:o,children:"Upload Video IDs or URLS from JSON File format ['id1', 'id2', 'etc']"}),Object(S.jsx)(C.a,{style:{minHeight:"10vh"},children:Object(S.jsx)(v.a,{type:"file",name:"file",id:"exampleFile",onChange:function(e){var t=new FileReader;t.onload=d,t.readAsText(e.target.files[0])},toggle:o})})]})]})},U=function(e){var t=e.FavsToggle,a=e.FavsDisplay,n=e.SortbyDate,s=e.Sort,c=e.DeleteAll,r=e.ChangeDisplay,i=e.displayType,l=e.urls,o=e.setUrls,d=e.FetchData;return Object(S.jsx)(b.a,{className:"d-flex justify-content-center",id:"navBtnsCnt",children:Object(S.jsxs)(g.a,{children:[a?Object(S.jsx)(w.a,{className:"shadow ml-1",style:{background:"lightblue"},onClick:function(){return t()},children:"Favorites"}):Object(S.jsx)(w.a,{className:"shadow m-1",onClick:function(){return t()},children:"Favorites"}),s?Object(S.jsx)(w.a,{className:"shadow m-1",style:{background:"lightblue"},onClick:function(){return n()},children:"Newest"}):Object(S.jsx)(w.a,{className:"shadow m-1",onClick:function(){return n()},children:"Oldest"}),Object(S.jsx)(w.a,{className:"shadow m-1",onClick:function(){return c()},children:"Delete All"}),i?Object(S.jsx)(w.a,{className:"shadow m-1",style:{background:"lightblue"},onClick:function(){return r()},children:"Display: List"}):Object(S.jsx)(w.a,{className:"shadow m-1",onClick:function(){return r()},children:"Display: Thumbs"}),Object(S.jsx)(F,{buttonLabel:"Upload",urls:l,setUrls:o,FetchData:d})]})})},V=function(e){var t=e.display,a=e.OnDelete,n=e.UpdateFavs,s=e.favsDisplay,c=e.displayType,r=t.map((function(e){return Object(S.jsx)(R,{date:e.date,title:e.data?e.data.title:"",thumb:e.data?e.data.thumbnail:"https://via.placeholder.com/320x180?text=Incorrect ID",views:e.data?e.data.views:"",likes:e.data?e.data.likes:"",VideoId:e.data?"":e.ID,PlayBackId:e.ID,favs:e.favs,OnDelete:a,UpdateFavs:n,favsDisplay:s,url:e.data?e.url:"",ID:e.key},e.key)})),i=t.map((function(e){return Object(S.jsx)(Z,{date:e.date,title:e.data?e.data.title:"",thumb:e.data?e.data.thumbnail:"https://via.placeholder.com/320x180?text=Incorrect ID",views:e.data?e.data.views:"",likes:e.data?e.data.likes:"",VideoId:e.data?"":e.ID,PlayBackId:e.ID,favs:e.favs,OnDelete:a,UpdateFavs:n,favsDisplay:s,url:e.data?e.url:"",ID:e.key},e.key)}));return Object(S.jsx)("div",{className:"VideoWrapper",children:Object(S.jsx)(x.a,{children:Object(S.jsx)(g.a,{className:"d-flex justify-content-center",children:c?i:r})})})},J=a(16),P=a(87),T=a(88),L=a(89),A=a(90),B=a(85),E=a(86),z=function(e){var t=e.buttonLabel,a=e.className,s=e.videoId,c=e.url,r=e.Imgsrc,i=e.btn,l=Object(n.useState)(!1),o=Object(j.a)(l,2),d=o[0],u=o[1],h=function(){return u(!d)},b="https://www.youtube.com/embed/".concat(s),p="https://player.vimeo.com/video/".concat(s),O=/^\d+$/.test(c),f="";return f=c.includes("vimeo")||O?p:b,Object(S.jsxs)("div",{className:a,children:[i?Object(S.jsx)(w.a,{className:"shadow btn btn-outline-dark",style:{minWidth:"6vw"},onClick:h,children:t}):Object(S.jsx)(B.a,{className:"shadow m-1 flex-grow-1 bd-highlight",top:!0,width:"100%",src:r,onClick:h,alt:"Card image cap",style:{cursor:"pointer"}}),Object(S.jsxs)(D.a,{isOpen:d,toggle:h,style:{minWidth:"80vw"},children:[Object(S.jsx)(N.a,{toggle:h}),Object(S.jsx)(C.a,{style:{minHeight:"80vh"},children:Object(S.jsx)("iframe",{frameBorder:"0",height:"550vh",width:"100%",title:"Video Player",src:f})}),Object(S.jsx)(E.a,{})]})]})},R=function(e){var t=e.title,a=e.thumb,n=e.views,s=e.favs,c=e.likes,r=e.OnDelete,i=e.date,l=e.VideoId,o=e.UpdateFavs,d=e.PlayBackId,u=e.url,h=e.ID;return Object(S.jsxs)(P.a,{className:"shadow m-1",id:"VideoCard",children:[Object(S.jsx)(z,{videoId:d,url:u,Imgsrc:a,btn:!1}),Object(S.jsxs)(T.a,{className:"m-1 bd-highlight",children:[t?Object(S.jsxs)(L.a,{tag:"h6",children:["TITLE: ",t]}):"",n?Object(S.jsxs)(A.a,{children:["Views: ",n]}):"",c?Object(S.jsxs)(A.a,{children:["Likes: ",c]}):"",l?Object(S.jsxs)(A.a,{children:["Sorry video id: ",Object(S.jsxs)("strong",{children:['"',l,'"']})," is incorrect"]}):"",i?Object(S.jsxs)(A.a,{children:["Added: ",i]}):""]}),Object(S.jsxs)(g.a,{form:!0,children:[Object(S.jsx)(x.a,{children:J.a?Object(S.jsx)(z,{buttonLabel:"Play",videoId:d,url:u,btn:!0}):""}),J.a?Object(S.jsx)(x.a,{children:s?Object(S.jsx)(w.a,{className:"shadow btn btn-outline-dark",style:{background:"lightblue"},onClick:function(){return o(i)},children:"Favorites"}):Object(S.jsx)(w.a,{className:"shadow btn btn-outline-dark",onClick:function(){return o(i)},children:"Favorites"})}):"",Object(S.jsx)(x.a,{children:J.a?Object(S.jsx)(w.a,{className:"shadow btn btn-outline-dark",onClick:function(){return r(h)},children:"Delete"}):Object(S.jsx)(w.a,{className:"shadow btn btn-outline-dark",style:{backgroundColor:"red"},onClick:function(){return r(h)},children:"Delete"})})]})]})},W=a(91),M=a(92),Y=a(22),H=a(37),Z=function(e){var t=e.title,a=e.favs,n=e.UpdateFavs,s=e.date,c=e.OnDelete,r=e.PlayBackId,i=e.url,l=(e.data,e.ID);return Object(S.jsx)(W.a,{className:"shadow m-1",children:Object(S.jsxs)(M.a,{className:"d-flex bd-highlight",style:{background:"darkgrey",minWidth:"80vw"},children:[t?Object(S.jsx)(z,{buttonLabel:t,className:"flex-grow-1 bd-highlight",videoId:r,url:i,btn:!0}):Object(S.jsx)(w.a,{style:{width:"60vw"},className:"m-1 bd-highlight",children:"Incorect Video ID"}),s?Object(S.jsx)(g.a,{children:i.includes("youtu")?Object(S.jsx)(Y.Icon,{icon:J.a,"data-icon":"line-md:image-twotone"}):Object(S.jsx)(Y.Icon,{icon:H.a})}):"",s?Object(S.jsx)("span",{children:a?Object(S.jsx)(w.a,{className:"shadow p-2 m-1 bd-highlight",style:{background:"lightblue"},onClick:function(){return n(s)},children:"Favorites"}):Object(S.jsx)(w.a,{className:"shadow p-2 m-1 bd-highlight",onClick:function(){return n(s)},children:"Favorites"})}):"",s&&Object(S.jsx)(w.a,{className:"shadow p-2 m-1 bd-highlight",onClick:function(){return c(l)},children:"Delete"})]})})},$=function(e){for(var t=e.videosPerPage,a=e.totalVideos,n=e.paginate,s=e.currentPage,c=[],r=1;r<=Math.ceil(a/t);r++)c.push(r);return Object(S.jsx)(b.a,{className:"d-flex justify-content-center",id:"paginCnt",children:c.map((function(e){return Object(S.jsx)("span",{children:s===e?Object(S.jsx)(w.a,{className:"shadow m-2",style:{background:"lightblue"},onClick:function(){return n(e)},href:"!#",children:e}):Object(S.jsx)(w.a,{className:"shadow m-2",onClick:function(){return n(e)},href:"!#",children:e})},e)}))})},q=a(18),G=a.n(q),K=function(){var e=Object(h.a)(d.a.mark((function e(t){var a,n,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="AIzaSyC6crZwFj1dv0BJOd0JjoyZA0Amqtl8R7o",e.prev=1,e.next=4,G.a.get("https://www.googleapis.com/youtube/v3/videos?part=snippet&id=".concat(t,"&key=").concat(a));case 4:return n=e.sent,e.next=7,G.a.get("https://www.googleapis.com/youtube/v3/videos?part=statistics&id=".concat(t,"&key=").concat(a));case 7:return s=e.sent,c={title:n.data.items[0].snippet.title,thumbnail:n.data.items[0].snippet.thumbnails.medium.url,likes:s.data.items[0].statistics.likeCount,views:s.data.items[0].statistics.viewCount},e.abrupt("return",c);case 12:if(e.prev=12,e.t0=e.catch(1),!e.t0){e.next=16;break}return e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(h.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"3a3bdb617776994351b4ee7f79a99557",e.next=4,G.a.get("https://api.vimeo.com/videos/".concat(t),{headers:{Authorization:"Bearer ".concat("3a3bdb617776994351b4ee7f79a99557")}});case 4:return a=e.sent,n={title:a.data.name,thumbnail:a.data.pictures.sizes[2].link,likes:a.data.metadata.connections.likes.total,views:""},e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),X=(a(72),function(){var e=JSON.parse(localStorage.getItem("urlsStore")),t=Object(n.useState)(e||[]),a=Object(j.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)([]),o=Object(j.a)(r,2),O=o[0],f=o[1],m=Object(n.useState)([]),v=Object(j.a)(m,2),g=v[0],x=v[1],w=Object(n.useState)(!1),y=Object(j.a)(w,2),k=y[0],D=y[1],N=Object(n.useState)(!1),C=Object(j.a)(N,2),F=C[0],J=C[1],P=Object(n.useState)(!1),T=Object(j.a)(P,2),L=T[0],A=T[1],B=Object(n.useState)(1),E=Object(j.a)(B,2),z=E[0],R=E[1],W=Object(n.useState)(6),M=Object(j.a)(W,1)[0];Object(n.useEffect)((function(){Y(s),localStorage.clear(),window.localStorage.setItem("urlsStore",JSON.stringify(s))}),[s]);var Y=function(){var e=Object(h.a)(d.a.mark((function e(t){var a,n,s,c,r,i,l,o,h,j,b,p,O;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=Object(u.a)(t),e.prev=2,n.s();case 4:if((s=n.n()).done){e.next=21;break}return c=s.value,r=c.url,i="",l="",o=c.favs,h=/^\d+$/.test(r),r.length<13&&h?l=Q(i=r):r.length<13&&!h?l=K(i=r):r.includes("youtu")&&r.length>30?(i=r.slice(r.search("=",0)+1,r.length),l=K(i)):r.includes("youtu")&&r.length<30?(i=r.slice(r.search(".be",0)+4,r.length),l=K(i)):r.includes("vimeo",0)&&(i=r.slice(r.search("com",0)+4,r.length),l=Q(i)),e.next=14,l;case 14:j=e.sent,b=c.date,p=parseInt(i,36)*Date.now(),O={data:j,url:r,date:b,ID:i,favs:o,key:p},a.push(O);case 19:e.next=4;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),n.e(e.t0);case 26:return e.prev=26,n.f(),e.finish(26);case 29:f(a);case 30:case"end":return e.stop()}}),e,null,[[2,23,26,29]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){D(!k);var e=O.filter((function(e){return!0===e.favs}));x(O),f(k?g:e)},Z=function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(p.onConfirm)({title:Object(S.jsx)("h3",{children:"Are you sure?"}),description:Object(S.jsx)("p",{children:"This process cannot be undone."}),onSubmit:function(){localStorage.clear(),c([]),f([])},onCancel:function(){}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=z*M,G=q-M,X=O.slice(G,q);return Object(S.jsxs)(b.a,{id:"mainCnt",children:[Object(S.jsx)(I,{urls:s,setUrls:c}),Object(S.jsx)(U,{urls:s,setUrls:c,FavsToggle:H,FavsDisplay:k,SortbyDate:function(){J(!F),O.reverse()},Sort:F,DeleteAll:Z,ChangeDisplay:function(){A(!L)},displayType:L,FetchData:Y}),Object(S.jsx)($,{videosPerPage:M,totalVideos:O.length,paginate:function(e){return R(e)},currentPage:z}),Object(S.jsx)(V,{display:X,displayType:L,OnDelete:function(e){var t=O.filter((function(t){return t.key!==e}));c(t),localStorage.clear(),window.localStorage.setItem("urlsStore",JSON.stringify(t))},UpdateFavs:function(e){var t=s.findIndex((function(t){return t.date===e})),a=Object(l.a)(s);a[t]=Object(i.a)(Object(i.a)({},a[t]),{},{favs:!a[t].favs}),c(a),localStorage.clear(),window.localStorage.setItem("urlsStore",JSON.stringify(a))},favsDisplay:H})]})});a(73);r.a.render(Object(S.jsx)(s.a.StrictMode,{children:Object(S.jsx)(X,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.c6cb6497.chunk.js.map